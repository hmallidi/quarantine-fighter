{"ast":null,"code":"import _slicedToArray from\"/Users/pranavvaranasi/Desktop/swe/covid-fighter/react_ver/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{Component,useState,useEffect}from\"react\";import{Map,GoogleApiWrapper}from\"google-maps-react\";import{Route}from\"react-router-dom\";import{HashRouter}from\"react-router-dom\";import{NavLink}from\"react-router-dom\";import clsx from'clsx';import axios from'axios';import ReactDOM from\"react-dom\";import{MDBDataTable}from'mdbreact';import\"./subpage.css\";import drugstorepic from\"./drugstore.jpg\";function Drugstore(props){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),searchCity=_useState2[0],setSearchCity=_useState2[1];// search is null to start with\nvar _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),searchName=_useState4[0],setSearchName=_useState4[1];//data encapsulates all of the fields below it, so those aren't necessary\nvar _useState5=useState(),_useState6=_slicedToArray(_useState5,2),data=_useState6[0],setData=_useState6[1];var updateTable=function updateTable(result){console.log(result);console.log(result.data);var temp=[];for(var index=0;index<result.data.length;index++){//  if(searchName.equals(\"\")){\n//  }\nvar addToList=result.data[index].name.includes(searchName);if(addToList){result.data[index].google_maps_url=/*#__PURE__*/React.createElement(\"a\",{href:result.data[index].google_maps_url},\" Open Google Maps \");for(var openingIndex=0;openingIndex<result.data[index].opening_hours.length;openingIndex++){result.data[index].opening_hours[openingIndex]=/*#__PURE__*/React.createElement(\"li\",null,\" \",result.data[index].opening_hours[openingIndex],\" \");}temp.push(result.data[index]);}}// setData(result.data);\nsetData(temp);};useEffect(function(){console.log(\"Hi inside use effect\");var urlString='/api/Drugstore/all/';console.log(searchName.concat(\"Helloname\"));console.log(searchCity.concat(\"Hellocity\"));axios.get(urlString).then(function(result){updateTable(result);});// axios.post(urlString, {\n//   name: searchName,\n//   city: searchCity\n// }).then(function (result) {\n//   console.log(\"In post:\");\n//   console.log(result);\n//   updateTable(result);\n// })\n},[]);var getURL=function getURL(){//var replaceName = searchName.replace(' ', '+');\n//var searchString = '/api/City/?name='.concat(replaceName);\nvar searchString='/#/drugstore';console.log(searchString);return searchString;};var testData={columns:[{label:'Name',field:'name',sort:'asc',width:150},{label:'Address',field:'address',sort:'asc',width:270},{label:'Opening Hours',field:'opening_hours',sort:'asc',width:100},{label:'Business Status',field:'business_status',sort:'asc',width:150},{label:'Google Maps URL',field:'google_maps_url',sort:'asc',width:150}],rows:data};var getNameInput=function getNameInput(event){setSearchName(event.target.value);axios.get(urlString).then(function(result){updateTable(result);});console.log(searchName);};var getCityInput=function getCityInput(event){setSearchCity(event.target.value);console.log(searchCity);};return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"img\",{src:drugstorepic,className:\"subpage_img\",alt:\"drugstore\"}),/*#__PURE__*/React.createElement(\"form\",{action:getURL(),method:\"get\"},/*#__PURE__*/React.createElement(\"input\",{type:\"text\",name:\"city\",value:searchCity,onChange:getCityInput,placeholder:\"Search by City Name\"}),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",name:\"name\",value:searchName,onChange:getNameInput,placeholder:\"Search by Drugstore Name\"}),/*#__PURE__*/React.createElement(\"button\",null,\"Search!\")),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(MDBDataTable,{striped:true,bordered:true,small:true,data:testData}));};GoogleApiWrapper({apiKey:'AIzaSyAYVNrhNbNDCs08puZcbPtPfXXj1sH61x8'})(Drugstore);export default Drugstore;","map":{"version":3,"sources":["/Users/pranavvaranasi/Desktop/swe/covid-fighter/react_ver/src/Drugstore.jsx"],"names":["React","Component","useState","useEffect","Map","GoogleApiWrapper","Route","HashRouter","NavLink","clsx","axios","ReactDOM","MDBDataTable","drugstorepic","Drugstore","props","searchCity","setSearchCity","searchName","setSearchName","data","setData","updateTable","result","console","log","temp","index","length","addToList","name","includes","google_maps_url","openingIndex","opening_hours","push","urlString","concat","get","then","getURL","searchString","testData","columns","label","field","sort","width","rows","getNameInput","event","target","value","getCityInput","apiKey"],"mappings":"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","sourcesContent":["import React, { Component, useState, useEffect } from \"react\";\nimport { Map, GoogleApiWrapper } from \"google-maps-react\";\nimport { Route } from \"react-router-dom\";\nimport { HashRouter } from \"react-router-dom\";\nimport { NavLink } from \"react-router-dom\";\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport axios from 'axios';\nimport ReactDOM from \"react-dom\";\nimport { MDBDataTable } from 'mdbreact';\nimport \"./subpage.css\";\nimport drugstorepic from \"./drugstore.jpg\"\n\nfunction Drugstore(props){\n  const [searchCity, setSearchCity] = useState(\"\"); // search is null to start with\n  const [searchName, setSearchName] = useState(\"\");\n    \n  //data encapsulates all of the fields below it, so those aren't necessary\n  const [data, setData] = useState();\n\n  const updateTable = (result) => {\n    console.log(result);\n    console.log(result.data);\n    let temp = [];\n\n    for (var index = 0; index < result.data.length; index++) {\n      //  if(searchName.equals(\"\")){\n\n      //  }\n       let addToList = result.data[index].name.includes(searchName);\n       if(addToList){\n          result.data[index].google_maps_url =  <a href={result.data[index].google_maps_url} > Open Google Maps </a>\n          for(var openingIndex = 0; openingIndex < result.data[index].opening_hours.length; openingIndex++){\n           result.data[index].opening_hours[openingIndex] = <li> {result.data[index].opening_hours[openingIndex]} </li>\n         }\n         temp.push(result.data[index]);\n       }\n     }\n\n    // setData(result.data);\n    setData(temp);\n  }\n\n  useEffect(()=> {\n    console.log(\"Hi inside use effect\");\n    var urlString = '/api/Drugstore/all/';\n    console.log(searchName.concat(\"Helloname\"))\n    console.log(searchCity.concat(\"Hellocity\"))\n    axios.get(urlString).then((result) => {\n      updateTable(result);\n    });\n \n    // axios.post(urlString, {\n    //   name: searchName,\n    //   city: searchCity\n    // }).then(function (result) {\n    //   console.log(\"In post:\");\n    //   console.log(result);\n    //   updateTable(result);\n    // })\n  }, []  )\n\n  const getURL = () => {\n    //var replaceName = searchName.replace(' ', '+');\n    //var searchString = '/api/City/?name='.concat(replaceName);\n    var searchString  = '/#/drugstore';\n    console.log(searchString);\n    return searchString;\n  }\n\n\n  const testData = {\n    columns: [\n      {\n        label: 'Name',\n        field: 'name',\n        sort: 'asc',\n        width: 150\n      },\n      {\n        label: 'Address',\n        field: 'address',\n        sort: 'asc',\n        width: 270\n      },\n      {\n        label: 'Opening Hours',\n        field: 'opening_hours',\n        sort: 'asc',\n        width: 100\n      },\n      {\n        label: 'Business Status',\n        field: 'business_status',\n        sort: 'asc',\n        width: 150\n      },\n      {\n        label: 'Google Maps URL',\n        field: 'google_maps_url',\n        sort: 'asc',\n        width: 150\n      }\n    ],\n    rows: data\n  };\n\n  const getNameInput = event => {\n    setSearchName(event.target.value);\n    axios.get(urlString).then((result) => {\n      updateTable(result);\n    });\n    console.log(searchName);\n  };\n\n  const getCityInput = event => {\n    setSearchCity(event.target.value);\n    console.log(searchCity);\n  };\n\n\n  return (\n    <div>\n      <img src={drugstorepic} className={\"subpage_img\"} alt=\"drugstore\"/>\n\n      <form action={getURL()} method=\"get\">\n        <input type=\"text\" name=\"city\" value={searchCity} onChange={getCityInput} placeholder=\"Search by City Name\"></input>\n        <input type=\"text\" name=\"name\" value={searchName} onChange={getNameInput} placeholder=\"Search by Drugstore Name\"></input>\n        <button>Search!</button>\n      </form>\n\n      <br></br>\n      <br></br>\n      <MDBDataTable\n        striped\n        bordered\n        small\n        data={testData}\n      />\n    </div>\n  );\n\n};\n\nGoogleApiWrapper({\n  apiKey: 'AIzaSyAYVNrhNbNDCs08puZcbPtPfXXj1sH61x8'\n})(Drugstore);\nexport default Drugstore;"]},"metadata":{},"sourceType":"module"}