{"ast":null,"code":"var _jsxFileName = \"/Users/angelacao/Desktop/covid-fighter/react_ver/src/Drugstore.jsx\";\nimport React, { Component, useState, useEffect } from \"react\";\nimport { Map, GoogleApiWrapper } from \"google-maps-react\";\nimport { Route } from \"react-router-dom\";\nimport { HashRouter } from \"react-router-dom\";\nimport { NavLink } from \"react-router-dom\";\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport axios from 'axios';\nimport ReactDOM from \"react-dom\";\nimport { MDBDataTable } from 'mdbreact';\nimport \"./subpage.css\";\nimport drugstorepic from \"./drugstore.jpg\";\n\nfunction Drugstore(props) {\n  const [search, setSearch] = useState(\"\"); // search is null to start with\n  // const [searchName, setSearchName] = useState(\"\");\n  //data encapsulates all of the fields below it, so those aren't necessary\n\n  const [data, setData] = useState();\n  const [originalData, setOriginalData] = useState();\n\n  const updateTable = result => {\n    console.log(result);\n    console.log(result.data);\n\n    for (var index = 0; index < result.data.length; index++) {\n      result.data[index].google_maps_url = /*#__PURE__*/React.createElement(\"a\", {\n        href: result.data[index].google_maps_url,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 28,\n          columnNumber: 45\n        }\n      }, \" Open Google Maps \");\n\n      for (var openingIndex = 0; openingIndex < result.data[index].opening_hours.length; openingIndex++) {\n        result.data[index].opening_hours[openingIndex] = /*#__PURE__*/React.createElement(\"li\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 30,\n            columnNumber: 58\n          }\n        }, \" \", result.data[index].opening_hours[openingIndex], \" \");\n      }\n    } //setState({ data: result.data});\n\n\n    setOriginalData(result.data);\n    setData(result.data); // let temp = [];\n    // for (var index = 0; index < result.data.length; index++) {\n    //    let addToList = result.data[index].name.includes(searchName);\n    //    if(addToList){\n    //       result.data[index].google_maps_url =  <a href={result.data[index].google_maps_url} > Open Google Maps </a>\n    //       for(var openingIndex = 0; openingIndex < result.data[index].opening_hours.length; openingIndex++){\n    //        result.data[index].opening_hours[openingIndex] = <li> {result.data[index].opening_hours[openingIndex]} </li>\n    //      }\n    //      temp.push(result.data[index]);\n    //    }\n    //  }\n    // // setData(result.data);\n    // setData(temp);\n  };\n\n  useEffect(() => {\n    console.log(\"Hi inside use effect\");\n    var urlString = '/api/Drugstore/all/'; // console.log(searchName.concat(\"Helloname\"))\n    // console.log(searchCity.concat(\"Hellocity\"))\n\n    axios.get(urlString).then(result => {\n      updateTable(result);\n    }); // axios.post(urlString, {\n    //   name: searchName,\n    //   city: searchCity\n    // }).then(function (result) {\n    //   console.log(\"In post:\");\n    //   console.log(result);\n    //   updateTable(result);\n    // })\n  }, []);\n\n  const getURL = () => {\n    //var replaceName = searchName.replace(' ', '+');\n    //var searchString = '/api/City/?name='.concat(replaceName);\n    var searchString = '/api/Drugstore/all/';\n    console.log(searchString);\n    return searchString;\n  };\n\n  let testData = {\n    columns: [{\n      label: 'Name',\n      field: 'name',\n      sort: 'asc',\n      width: 150\n    }, {\n      label: 'Address',\n      field: 'address',\n      sort: 'asc',\n      width: 270\n    }, {\n      label: 'Opening Hours',\n      field: 'opening_hours',\n      sort: 'asc',\n      width: 100\n    }, {\n      label: 'Business Status',\n      field: 'business_status',\n      sort: 'asc',\n      width: 150\n    }, {\n      label: 'Google Maps URL',\n      field: 'google_maps_url',\n      sort: 'asc',\n      width: 150\n    }],\n    rows: data\n  }; // const getNameInput = event => {\n  //   setSearchName(event.target.value);\n  //   // axios.get(urlString).then((result) => {\n  //   //   updateTable(result);\n  //   // });\n  //   console.log(searchName);\n  // };\n\n  const getUserInput = event => {\n    const prevLength = search.length;\n    setSearch(event.target.value);\n    console.log(search);\n    updateSearchTable(prevLength, event); //ReactDOM.render(testData, document.getElementById('root'));\n  };\n\n  const updateSearchTable = (ogSearchLength, event) => {\n    let updateData = [];\n    console.log(\"Event handler:\");\n    console.log(event.target.keyCode);\n    console.log(\"Search Length : \");\n    console.log(search.length);\n    console.log(\"Original Search Length : \");\n    console.log(ogSearchLength);\n\n    if (search === \"\") {\n      console.log(\"In empty branch\");\n      setData(originalData);\n    }\n\n    if (search.includes(\" \")) {\n      let words = search.split(\" \");\n\n      for (var index = 0; index < originalData.length; index++) {\n        let wordAdded = true;\n\n        for (var i = 0; i < words.length; i++) {\n          if (!originalData[index].name.toLowerCase().includes(words[i].toLowerCase()) && !originalData[index].address.toLowerCase().includes(words[i].toLowerCase())) {\n            wordAdded = false;\n          }\n        }\n\n        if (wordAdded) {\n          updateData.push(originalData[index]);\n        }\n      }\n    } else {\n      console.log(\"In backspace branch\");\n\n      for (var index = 0; index < originalData.length; index++) {\n        if (originalData[index].name.toLowerCase().includes(search.toLowerCase())) {\n          updateData.push(originalData[index]);\n        } else if (originalData[index].address.toLowerCase().includes(search.toLowerCase())) {\n          updateData.push(originalData[index]);\n        }\n      }\n    }\n\n    setData(updateData);\n  }; // else{\n  //   console.log(\"In regular branch\");\n  //   for (var index = 0; index < data.length; index++) {\n  //     if(data[index].name.includes(search)){\n  //       updateData.push(data[index]);\n  //     }\n  //     else if(data[index].address.includes(search)){\n  //       updateData.push(data[index]);\n  //     }\n  //   }\n  //  setData(updateData);\n  // }\n\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 205,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: drugstorepic,\n    className: \"subpage_img\",\n    alt: \"drugstore\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 208,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 209,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"center\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 211,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 212,\n      columnNumber: 11\n    }\n  }, \"Drugstores\")), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 215,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 216,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"center\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 218,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: e => {\n      e.preventDefault();\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 219,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    name: \"input\",\n    value: search,\n    onChange: getUserInput,\n    placeholder: \"Search by name or location\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 220,\n      columnNumber: 9\n    }\n  }))), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 225,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(MDBDataTable, {\n    striped: true,\n    bordered: true,\n    small: true,\n    data: testData,\n    searching: false,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 227,\n      columnNumber: 7\n    }\n  }));\n}\n\n;\nGoogleApiWrapper({\n  apiKey: 'AIzaSyAYVNrhNbNDCs08puZcbPtPfXXj1sH61x8'\n})(Drugstore);\nexport default Drugstore;","map":{"version":3,"sources":["/Users/angelacao/Desktop/covid-fighter/react_ver/src/Drugstore.jsx"],"names":["React","Component","useState","useEffect","Map","GoogleApiWrapper","Route","HashRouter","NavLink","PropTypes","clsx","axios","ReactDOM","MDBDataTable","drugstorepic","Drugstore","props","search","setSearch","data","setData","originalData","setOriginalData","updateTable","result","console","log","index","length","google_maps_url","openingIndex","opening_hours","urlString","get","then","getURL","searchString","testData","columns","label","field","sort","width","rows","getUserInput","event","prevLength","target","value","updateSearchTable","ogSearchLength","updateData","keyCode","includes","words","split","wordAdded","i","name","toLowerCase","address","push","e","preventDefault","apiKey"],"mappings":"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","sourcesContent":["import React, { Component, useState, useEffect } from \"react\";\nimport { Map, GoogleApiWrapper } from \"google-maps-react\";\nimport { Route } from \"react-router-dom\";\nimport { HashRouter } from \"react-router-dom\";\nimport { NavLink } from \"react-router-dom\";\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport axios from 'axios';\nimport ReactDOM from \"react-dom\";\nimport { MDBDataTable } from 'mdbreact';\nimport \"./subpage.css\";\nimport drugstorepic from \"./drugstore.jpg\"\n\nfunction Drugstore(props){\n  const [search, setSearch] = useState(\"\"); // search is null to start with\n  // const [searchName, setSearchName] = useState(\"\");\n    \n  //data encapsulates all of the fields below it, so those aren't necessary\n  const [data, setData] = useState();\n  const [originalData, setOriginalData] = useState();\n\n  const updateTable = (result) => {\n    console.log(result);\n    console.log(result.data);\n    \n    for (var index = 0; index < result.data.length; index++) {\n\n      result.data[index].google_maps_url =  <a href={result.data[index].google_maps_url} > Open Google Maps </a>\n      for(var openingIndex = 0; openingIndex < result.data[index].opening_hours.length; openingIndex++){\n        result.data[index].opening_hours[openingIndex] = <li> {result.data[index].opening_hours[openingIndex]} </li>\n      }\n   \n    }\n\n   //setState({ data: result.data});\n   setOriginalData(result.data);\n   setData(result.data);\n    \n    // let temp = [];\n\n    // for (var index = 0; index < result.data.length; index++) {\n    //    let addToList = result.data[index].name.includes(searchName);\n    //    if(addToList){\n    //       result.data[index].google_maps_url =  <a href={result.data[index].google_maps_url} > Open Google Maps </a>\n    //       for(var openingIndex = 0; openingIndex < result.data[index].opening_hours.length; openingIndex++){\n    //        result.data[index].opening_hours[openingIndex] = <li> {result.data[index].opening_hours[openingIndex]} </li>\n    //      }\n    //      temp.push(result.data[index]);\n    //    }\n    //  }\n\n    // // setData(result.data);\n    // setData(temp);\n  }\n\n  useEffect(()=> {\n    console.log(\"Hi inside use effect\");\n    var urlString = '/api/Drugstore/all/';\n\n    // console.log(searchName.concat(\"Helloname\"))\n    // console.log(searchCity.concat(\"Hellocity\"))\n    \n    axios.get(urlString).then((result) => {\n      updateTable(result);\n    });\n \n    // axios.post(urlString, {\n    //   name: searchName,\n    //   city: searchCity\n    // }).then(function (result) {\n    //   console.log(\"In post:\");\n    //   console.log(result);\n    //   updateTable(result);\n    // })\n  }, []  )\n\n  const getURL = () => {\n    //var replaceName = searchName.replace(' ', '+');\n    //var searchString = '/api/City/?name='.concat(replaceName);\n    var searchString  = '/api/Drugstore/all/';\n    console.log(searchString);\n    return searchString;\n  }\n\n\n  let testData = {\n    columns: [\n      {\n        label: 'Name',\n        field: 'name',\n        sort: 'asc',\n        width: 150\n      },\n      {\n        label: 'Address',\n        field: 'address',\n        sort: 'asc',\n        width: 270\n      },\n      {\n        label: 'Opening Hours',\n        field: 'opening_hours',\n        sort: 'asc',\n        width: 100\n      },\n      {\n        label: 'Business Status',\n        field: 'business_status',\n        sort: 'asc',\n        width: 150\n      },\n      {\n        label: 'Google Maps URL',\n        field: 'google_maps_url',\n        sort: 'asc',\n        width: 150\n      }\n    ],\n    rows: data\n  };\n\n  // const getNameInput = event => {\n  //   setSearchName(event.target.value);\n  //   // axios.get(urlString).then((result) => {\n  //   //   updateTable(result);\n  //   // });\n  //   console.log(searchName);\n  // };\n\n  const getUserInput = event => {\n    const prevLength = search.length;\n    setSearch(event.target.value);\n    console.log(search);\n\n    updateSearchTable(prevLength, event);\n    //ReactDOM.render(testData, document.getElementById('root'));\n  };\n\n  const updateSearchTable = (ogSearchLength, event) => {\n    let updateData = [];\n\n    console.log(\"Event handler:\");\n    console.log(event.target.keyCode);\n\n    console.log(\"Search Length : \");\n    console.log(search.length);\n\n    console.log(\"Original Search Length : \");\n    console.log(ogSearchLength);\n\n   \n    if(search === \"\"){\n      console.log(\"In empty branch\");\n      setData(originalData);\n    }\n\n\n    if(search.includes(\" \")){\n      let words = search.split(\" \");\n\n        for (var index = 0; index < originalData.length; index++) {\n          let wordAdded = true;\n\n          for(var i = 0; i < words.length; i++){\n            if(!(originalData[index].name.toLowerCase().includes(words[i].toLowerCase())) && !(originalData[index].address.toLowerCase().includes(words[i].toLowerCase()))){\n              wordAdded = false;\n            }\n          }\n          \n          if(wordAdded){\n            updateData.push(originalData[index]);\n          }\n\n        }\n      }\n      else{\n        console.log(\"In backspace branch\");\n        for (var index = 0; index < originalData.length; index++) {\n          if(originalData[index].name.toLowerCase().includes(search.toLowerCase())){\n            updateData.push(originalData[index]);\n          }\n          else if(originalData[index].address.toLowerCase().includes(search.toLowerCase())){\n            updateData.push(originalData[index]);\n          }\n        }\n      }\n  \n      setData(updateData);\n    }; \n    // else{\n    //   console.log(\"In regular branch\");\n    //   for (var index = 0; index < data.length; index++) {\n    //     if(data[index].name.includes(search)){\n    //       updateData.push(data[index]);\n    //     }\n    //     else if(data[index].address.includes(search)){\n    //       updateData.push(data[index]);\n    //     }\n    //   }\n      \n    //  setData(updateData);\n    // }\n\n  return (\n    <div>\n      <img src={drugstorepic} className={\"subpage_img\"} alt=\"drugstore\"/>\n\n      <br></br>\n      <br></br>\n\n      <center>\n          <h2>Drugstores</h2>\n      </center>\n\n      <br></br>\n      <br></br>\n\n      <center>\n        <form onSubmit={e => { e.preventDefault(); }}>\n        <input type=\"text\" name=\"input\" value={search} onChange={getUserInput} placeholder=\"Search by name or location\"></input>\n      </form>\n      </center>\n\n      \n      <br></br>\n\n      <MDBDataTable\n        striped\n        bordered\n        small\n        data={testData}\n        searching={false}\n      />\n    </div>\n  );\n\n};\n\nGoogleApiWrapper({\n  apiKey: 'AIzaSyAYVNrhNbNDCs08puZcbPtPfXXj1sH61x8'\n})(Drugstore);\nexport default Drugstore;"]},"metadata":{},"sourceType":"module"}