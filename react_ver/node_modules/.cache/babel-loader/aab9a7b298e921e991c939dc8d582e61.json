{"ast":null,"code":"import _slicedToArray from\"C:\\\\Nayan\\\\College\\\\Summer2020\\\\SWE\\\\covid-fighter\\\\react_ver\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{Component,useState,useEffect}from\"react\";import{Map,GoogleApiWrapper}from\"google-maps-react\";import{Route}from\"react-router-dom\";import{HashRouter}from\"react-router-dom\";import{NavLink}from\"react-router-dom\";import clsx from'clsx';import axios from'axios';import ReactDOM from\"react-dom\";import{MDBDataTable}from'mdbreact';import\"./subpage.css\";import hospitalpic from\"./hospital.jpeg\";function Hospital(props){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),search=_useState2[0],setSearch=_useState2[1];// search is empty to start with\nvar _useState3=useState(),_useState4=_slicedToArray(_useState3,2),data=_useState4[0],setData=_useState4[1];var _useState5=useState(),_useState6=_slicedToArray(_useState5,2),originalData=_useState6[0],setOriginalData=_useState6[1];useEffect(function(){axios.get('/api/Hospital/all/').then(function(result){console.log(result);console.log(result.data);for(var index=0;index<result.data.length;index++){result.data[index].google_maps_url=/*#__PURE__*/React.createElement(\"a\",{href:result.data[index].google_maps_url},\" Open Google Maps \");for(var openingIndex=0;openingIndex<result.data[index].opening_hours.length;openingIndex++){result.data[index].opening_hours[openingIndex]=/*#__PURE__*/React.createElement(\"li\",null,\" \",result.data[index].opening_hours[openingIndex],\" \");}}setOriginalData(result.data);setData(result.data);});},[]);var testData={columns:[{label:'Name',field:'name',sort:'asc',width:150},{label:'Address',field:'address',sort:'asc',width:270},{label:'Opening Hours',field:'opening_hours',sort:'asc',width:100},{label:'Business Status',field:'business_status',sort:'asc',width:150},{label:'Google Maps URL',field:'google_maps_url',sort:'asc',width:150}],rows:data};var getUserInput=function getUserInput(event){setSearch(event.target.value);console.log(search);updateSearchTable();};var updateSearchTable=function updateSearchTable(){var updateData=[];if(search===\"\"){setData(originalData);}if(search.includes(\" \")){var words=search.split(\" \");for(var index=0;index<originalData.length;index++){var wordAdded=true;for(var i=0;i<words.length;i++){if(!originalData[index].name.toLowerCase().includes(words[i].toLowerCase())&&!originalData[index].address.toLowerCase().includes(words[i].toLowerCase())&&!originalData[index].business_status.toLowerCase().includes(words[i].toLowerCase())){wordAdded=false;}}if(wordAdded){updateData.push(originalData[index]);}}}else{for(var index=0;index<originalData.length;index++){if(originalData[index].name.toLowerCase().includes(search.toLowerCase())||originalData[index].address.toLowerCase().includes(search.toLowerCase())||originalData[index].business_status.toLowerCase().includes(search.toLowerCase())){updateData.push(originalData[index]);}}}setData(updateData);};return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"img\",{src:hospitalpic,className:\"subpage_img\",alt:\"hospital\"}),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"center\",null,/*#__PURE__*/React.createElement(\"h2\",null,\"Hospitals\")),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"center\",null,/*#__PURE__*/React.createElement(\"form\",{onSubmit:function onSubmit(e){e.preventDefault();}},/*#__PURE__*/React.createElement(\"input\",{type:\"text\",name:\"input\",value:search,onChange:getUserInput,placeholder:\"Search by Name or Location\"}))),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(MDBDataTable,{striped:true,bordered:true,small:true,data:testData,searching:false}));};GoogleApiWrapper({apiKey:'AIzaSyAYVNrhNbNDCs08puZcbPtPfXXj1sH61x8'})(Hospital);export default Hospital;","map":{"version":3,"sources":["C:/Nayan/College/Summer2020/SWE/covid-fighter/react_ver/src/Hospital.jsx"],"names":["React","Component","useState","useEffect","Map","GoogleApiWrapper","Route","HashRouter","NavLink","clsx","axios","ReactDOM","MDBDataTable","hospitalpic","Hospital","props","search","setSearch","data","setData","originalData","setOriginalData","get","then","result","console","log","index","length","google_maps_url","openingIndex","opening_hours","testData","columns","label","field","sort","width","rows","getUserInput","event","target","value","updateSearchTable","updateData","includes","words","split","wordAdded","i","name","toLowerCase","address","business_status","push","e","preventDefault","apiKey"],"mappings":"yLAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,CAAqCC,SAArC,KAAsD,OAAtD,CACA,OAASC,GAAT,CAAcC,gBAAd,KAAsC,mBAAtC,CACA,OAASC,KAAT,KAAsB,kBAAtB,CACA,OAASC,UAAT,KAA2B,kBAA3B,CACA,OAASC,OAAT,KAAwB,kBAAxB,CAEA,MAAOC,CAAAA,IAAP,KAAiB,MAAjB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,QAAP,KAAqB,WAArB,CACA,OAASC,YAAT,KAA6B,UAA7B,CACA,MAAO,eAAP,CACA,MAAOC,CAAAA,WAAP,KAAwB,iBAAxB,CAEA,QAASC,CAAAA,QAAT,CAAkBC,KAAlB,CAAwB,eACMb,QAAQ,CAAC,EAAD,CADd,wCACfc,MADe,eACPC,SADO,eACoB;AADpB,eAEEf,QAAQ,EAFV,yCAEfgB,IAFe,eAETC,OAFS,8BAGkBjB,QAAQ,EAH1B,yCAGfkB,YAHe,eAGDC,eAHC,eAKtBlB,SAAS,CAAC,UAAK,CACbO,KAAK,CAACY,GAAN,CAAU,oBAAV,EAAgCC,IAAhC,CAAqC,SAACC,MAAD,CAAY,CAChDC,OAAO,CAACC,GAAR,CAAYF,MAAZ,EACAC,OAAO,CAACC,GAAR,CAAYF,MAAM,CAACN,IAAnB,EAEA,IAAK,GAAIS,CAAAA,KAAK,CAAG,CAAjB,CAAoBA,KAAK,CAAGH,MAAM,CAACN,IAAP,CAAYU,MAAxC,CAAgDD,KAAK,EAArD,CAAyD,CAEtDH,MAAM,CAACN,IAAP,CAAYS,KAAZ,EAAmBE,eAAnB,cAAsC,yBAAG,IAAI,CAAEL,MAAM,CAACN,IAAP,CAAYS,KAAZ,EAAmBE,eAA5B,uBAAtC,CACA,IAAI,GAAIC,CAAAA,YAAY,CAAG,CAAvB,CAA0BA,YAAY,CAAGN,MAAM,CAACN,IAAP,CAAYS,KAAZ,EAAmBI,aAAnB,CAAiCH,MAA1E,CAAkFE,YAAY,EAA9F,CAAiG,CAC/FN,MAAM,CAACN,IAAP,CAAYS,KAAZ,EAAmBI,aAAnB,CAAiCD,YAAjC,eAAiD,kCAAMN,MAAM,CAACN,IAAP,CAAYS,KAAZ,EAAmBI,aAAnB,CAAiCD,YAAjC,CAAN,KAAjD,CACD,CAEF,CAEFT,eAAe,CAACG,MAAM,CAACN,IAAR,CAAf,CACAC,OAAO,CAACK,MAAM,CAACN,IAAR,CAAP,CACD,CAfA,EAiBD,CAlBQ,CAkBN,EAlBM,CAAT,CAoBA,GAAMc,CAAAA,QAAQ,CAAG,CACfC,OAAO,CAAE,CACP,CACEC,KAAK,CAAE,MADT,CAEEC,KAAK,CAAE,MAFT,CAGEC,IAAI,CAAE,KAHR,CAIEC,KAAK,CAAE,GAJT,CADO,CAOP,CACEH,KAAK,CAAE,SADT,CAEEC,KAAK,CAAE,SAFT,CAGEC,IAAI,CAAE,KAHR,CAIEC,KAAK,CAAE,GAJT,CAPO,CAaP,CACEH,KAAK,CAAE,eADT,CAEEC,KAAK,CAAE,eAFT,CAGEC,IAAI,CAAE,KAHR,CAIEC,KAAK,CAAE,GAJT,CAbO,CAmBP,CACEH,KAAK,CAAE,iBADT,CAEEC,KAAK,CAAE,iBAFT,CAGEC,IAAI,CAAE,KAHR,CAIEC,KAAK,CAAE,GAJT,CAnBO,CAyBP,CACEH,KAAK,CAAE,iBADT,CAEEC,KAAK,CAAE,iBAFT,CAGEC,IAAI,CAAE,KAHR,CAIEC,KAAK,CAAE,GAJT,CAzBO,CADM,CAiCfC,IAAI,CAAEpB,IAjCS,CAAjB,CAoCA,GAAMqB,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAAAC,KAAK,CAAI,CAC5BvB,SAAS,CAACuB,KAAK,CAACC,MAAN,CAAaC,KAAd,CAAT,CACAjB,OAAO,CAACC,GAAR,CAAYV,MAAZ,EAEA2B,iBAAiB,GAClB,CALD,CAOA,GAAMA,CAAAA,iBAAiB,CAAG,QAApBA,CAAAA,iBAAoB,EAAM,CAC9B,GAAIC,CAAAA,UAAU,CAAG,EAAjB,CAEA,GAAG5B,MAAM,GAAK,EAAd,CAAiB,CACfG,OAAO,CAACC,YAAD,CAAP,CACD,CAED,GAAGJ,MAAM,CAAC6B,QAAP,CAAgB,GAAhB,CAAH,CAAwB,CACtB,GAAIC,CAAAA,KAAK,CAAG9B,MAAM,CAAC+B,KAAP,CAAa,GAAb,CAAZ,CAEE,IAAK,GAAIpB,CAAAA,KAAK,CAAG,CAAjB,CAAoBA,KAAK,CAAGP,YAAY,CAACQ,MAAzC,CAAiDD,KAAK,EAAtD,CAA0D,CACxD,GAAIqB,CAAAA,SAAS,CAAG,IAAhB,CAEA,IAAI,GAAIC,CAAAA,CAAC,CAAG,CAAZ,CAAeA,CAAC,CAAGH,KAAK,CAAClB,MAAzB,CAAiCqB,CAAC,EAAlC,CAAqC,CACnC,GAAG,CAAE7B,YAAY,CAACO,KAAD,CAAZ,CAAoBuB,IAApB,CAAyBC,WAAzB,GAAuCN,QAAvC,CAAgDC,KAAK,CAACG,CAAD,CAAL,CAASE,WAAT,EAAhD,CAAF,EAA8E,CAAE/B,YAAY,CAACO,KAAD,CAAZ,CAAoByB,OAApB,CAA4BD,WAA5B,GAA0CN,QAA1C,CAAmDC,KAAK,CAACG,CAAD,CAAL,CAASE,WAAT,EAAnD,CAAhF,EACC,CAAE/B,YAAY,CAACO,KAAD,CAAZ,CAAoB0B,eAApB,CAAoCF,WAApC,GAAkDN,QAAlD,CAA2DC,KAAK,CAACG,CAAD,CAAL,CAASE,WAAT,EAA3D,CADN,CAC0F,CACxFH,SAAS,CAAG,KAAZ,CACD,CACF,CAED,GAAGA,SAAH,CAAa,CACXJ,UAAU,CAACU,IAAX,CAAgBlC,YAAY,CAACO,KAAD,CAA5B,EACD,CACF,CACJ,CAjBD,IAiBO,CACL,IAAK,GAAIA,CAAAA,KAAK,CAAG,CAAjB,CAAoBA,KAAK,CAAGP,YAAY,CAACQ,MAAzC,CAAiDD,KAAK,EAAtD,CAA0D,CACxD,GAAGP,YAAY,CAACO,KAAD,CAAZ,CAAoBuB,IAApB,CAAyBC,WAAzB,GAAuCN,QAAvC,CAAgD7B,MAAM,CAACmC,WAAP,EAAhD,GAAyE/B,YAAY,CAACO,KAAD,CAAZ,CAAoByB,OAApB,CAA4BD,WAA5B,GAA0CN,QAA1C,CAAmD7B,MAAM,CAACmC,WAAP,EAAnD,CAAzE,EACA/B,YAAY,CAACO,KAAD,CAAZ,CAAoB0B,eAApB,CAAoCF,WAApC,GAAkDN,QAAlD,CAA2D7B,MAAM,CAACmC,WAAP,EAA3D,CADH,CACqF,CAEjFP,UAAU,CAACU,IAAX,CAAgBlC,YAAY,CAACO,KAAD,CAA5B,EACH,CACF,CACF,CAEDR,OAAO,CAACyB,UAAD,CAAP,CAED,CApCD,CAwCA,mBACE,4CACE,2BAAK,GAAG,CAAE/B,WAAV,CAAuB,SAAS,CAAE,aAAlC,CAAiD,GAAG,CAAC,UAArD,EADF,cAEE,8BAFF,cAGE,8BAHF,cAKE,+CACE,0CADF,CALF,cASE,8BATF,cAUE,8BAVF,cAYE,+CACE,4BAAM,QAAQ,CAAE,kBAAA0C,CAAC,CAAI,CAAEA,CAAC,CAACC,cAAF,GAAqB,CAA5C,eACE,6BAAO,IAAI,CAAC,MAAZ,CAAmB,IAAI,CAAC,OAAxB,CAAgC,KAAK,CAAExC,MAAvC,CAA+C,QAAQ,CAAEuB,YAAzD,CAAuE,WAAW,CAAC,4BAAnF,EADF,CADF,CAZF,cAmBE,8BAnBF,cAqBF,oBAAC,YAAD,EACE,OAAO,KADT,CAEE,QAAQ,KAFV,CAGE,KAAK,KAHP,CAIE,IAAI,CAAEP,QAJR,CAKE,SAAS,CAAE,KALb,EArBE,CADF,CAgCD,EAED3B,gBAAgB,CAAC,CACfoD,MAAM,CAAE,yCADO,CAAD,CAAhB,CAEG3C,QAFH,EAGA,cAAeA,CAAAA,QAAf","sourcesContent":["import React, { Component, useState, useEffect } from \"react\";\r\nimport { Map, GoogleApiWrapper } from \"google-maps-react\";\r\nimport { Route } from \"react-router-dom\";\r\nimport { HashRouter } from \"react-router-dom\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport PropTypes from 'prop-types';\r\nimport clsx from 'clsx';\r\nimport axios from 'axios';\r\nimport ReactDOM from \"react-dom\";\r\nimport { MDBDataTable } from 'mdbreact';\r\nimport \"./subpage.css\";\r\nimport hospitalpic from \"./hospital.jpeg\"\r\n\r\nfunction Hospital(props){\r\n  const [search, setSearch] = useState(\"\"); // search is empty to start with\r\n  const [data, setData] = useState();\r\n  const [originalData, setOriginalData] = useState();\r\n\r\n  useEffect(()=> {\r\n    axios.get('/api/Hospital/all/').then((result) => {\r\n     console.log(result)\r\n     console.log(result.data);\r\n\r\n     for (var index = 0; index < result.data.length; index++) {\r\n\r\n        result.data[index].google_maps_url =  <a href={result.data[index].google_maps_url} > Open Google Maps </a>\r\n        for(var openingIndex = 0; openingIndex < result.data[index].opening_hours.length; openingIndex++){\r\n          result.data[index].opening_hours[openingIndex] = <li> {result.data[index].opening_hours[openingIndex]} </li>\r\n        }\r\n     \r\n      }\r\n\r\n     setOriginalData(result.data);\r\n     setData(result.data);\r\n   });\r\n\r\n  }, []  )\r\n\r\n  const testData = {\r\n    columns: [\r\n      {\r\n        label: 'Name',\r\n        field: 'name',\r\n        sort: 'asc',\r\n        width: 150\r\n      },\r\n      {\r\n        label: 'Address',\r\n        field: 'address',\r\n        sort: 'asc',\r\n        width: 270\r\n      },\r\n      {\r\n        label: 'Opening Hours',\r\n        field: 'opening_hours',\r\n        sort: 'asc',\r\n        width: 100\r\n      },\r\n      {\r\n        label: 'Business Status',\r\n        field: 'business_status',\r\n        sort: 'asc',\r\n        width: 150\r\n      },\r\n      {\r\n        label: 'Google Maps URL',\r\n        field: 'google_maps_url',\r\n        sort: 'asc',\r\n        width: 150\r\n      }\r\n    ],\r\n    rows: data\r\n  };\r\n\r\n  const getUserInput = event => {\r\n    setSearch(event.target.value);\r\n    console.log(search);\r\n\r\n    updateSearchTable();\r\n  };\r\n\r\n  const updateSearchTable = () => {\r\n    let updateData = [];\r\n   \r\n    if(search === \"\"){\r\n      setData(originalData);\r\n    }\r\n    \r\n    if(search.includes(\" \")){\r\n      let words = search.split(\" \");\r\n\r\n        for (var index = 0; index < originalData.length; index++) {\r\n          let wordAdded = true;\r\n\r\n          for(var i = 0; i < words.length; i++){\r\n            if(!(originalData[index].name.toLowerCase().includes(words[i].toLowerCase())) && !(originalData[index].address.toLowerCase().includes(words[i].toLowerCase())) && \r\n                !(originalData[index].business_status.toLowerCase().includes(words[i].toLowerCase()))){\r\n              wordAdded = false;\r\n            }\r\n          }\r\n          \r\n          if(wordAdded){\r\n            updateData.push(originalData[index]);\r\n          }\r\n        }\r\n    } else {\r\n      for (var index = 0; index < originalData.length; index++) {\r\n        if(originalData[index].name.toLowerCase().includes(search.toLowerCase()) || originalData[index].address.toLowerCase().includes(search.toLowerCase()) ||\r\n          (originalData[index].business_status.toLowerCase().includes(search.toLowerCase()))){\r\n          \r\n            updateData.push(originalData[index]);\r\n        }\r\n      }\r\n    }\r\n  \r\n    setData(updateData);\r\n\r\n  }; \r\n\r\n \r\n\r\n  return (\r\n    <div>\r\n      <img src={hospitalpic} className={\"subpage_img\"} alt=\"hospital\"/>\r\n      <br></br>\r\n      <br></br>\r\n\r\n      <center>\r\n        <h2>Hospitals</h2>\r\n      </center>\r\n\r\n      <br></br>\r\n      <br></br>\r\n\r\n      <center>\r\n        <form onSubmit={e => { e.preventDefault(); }}>\r\n          <input type=\"text\" name=\"input\" value={search} onChange={getUserInput} placeholder=\"Search by Name or Location\"></input>\r\n        </form>\r\n      </center>\r\n\r\n      \r\n      <br></br>\r\n\r\n  <MDBDataTable\r\n    striped\r\n    bordered\r\n    small\r\n    data={testData}\r\n    searching={false}\r\n  />\r\n  </div>\r\n  );\r\n\r\n};\r\n\r\nGoogleApiWrapper({\r\n  apiKey: 'AIzaSyAYVNrhNbNDCs08puZcbPtPfXXj1sH61x8'\r\n})(Hospital);\r\nexport default Hospital;"]},"metadata":{},"sourceType":"module"}